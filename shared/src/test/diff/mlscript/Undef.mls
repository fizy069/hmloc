
class Undef
//│ Defined class Undef

def undef = Undef{}
//│ undef: Undef


def example: int | Undef
//│ example: int | Undef

example = if true then undef else 42
//│ int | Undef
//│   <:  example:
//│ int | Undef

def qmrk_qmrk lhs rhs = case lhs of { Undef -> rhs | _ -> lhs }
//│ qmrk_qmrk: (Undef | 'a & ~#Undef) -> 'a -> 'a

qmrk_qmrk example 0
//│ res: int

qmrk_qmrk example "123"
//│ res: int | string

qmrk_qmrk undef "123"
//│ res: string

qmrk_qmrk 42 "123"
//│ res: int | string

